{% extends "base.html" %}
{% block title %}Post List from {{ block.super }}{% endblock %}
{% block content %}
    <h1>Posts from {{ block.super }}</h1>
    <ul>
        {% if tag %}
            <h2>Posts tagged with "{{ tag.name }}"</h2>
        {% endif %}
        {% for post in posts %}
            <h2><a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a></h2>
            <p class="tags">
                Tags:
                {% for tag in post.tags.all %}
                    <a href="{% url "wall:post_list_by_tag" tag.slug %}">
                        {{ tag.name }}
                    </a>
                    {% if not forloop.last %}, {% endif %}
                {% endfor %}
            </p>
            <p>Published {{ post.created }} by {{ post.user }}</p>

            {{ post.content|truncatewords:30|linebreaks }}
        {% endfor %}
    </ul>
    {% include "pagination.html" with page=page_obj %}
{% endblock %}